<form [formGroup]="accountPictureForm">
  <div class="container-fluid px-0 mt-5">
    <div class="row mt-5 justify-content-center">
      <div class="col-xl-auto col-lg-auto col-md-auto col-sm-auto col-auto">
        <p>Uploaded pictures will display at the top of your KeyFocus page. (Maximum file size 5MB)</p>
      </div>
    </div>
    <div class="row mt-3 justify-content-center">
      <div class="col-auto mr-auto">
        <div class="avatar">
          <!-- <mat-icon *ngIf="!fileSet" class="align-middle user-icon">person_outline</mat-icon> -->
          <!-- <div *ngIf="fileSet" [style.background-image]="croppedImage"></div> -->
          <img class="profile-pic" *ngIf="fileSet" [src]="croppedImage" alt="Avatar">
          <img *ngIf="!fileSet" src="/assets/profile-placeholder.png" alt="Avatar">
        </div>
      </div>
      
      <div class="col-auto mt-4">
        <input hidden type="file" (change)="setImage($event)" #uploader>
        <button *ngIf="!fileSet" type="button" color="primary" mat-raised-button (click)="uploader.click()">
          Upload Picture    
        </button>
        <button *ngIf="fileSet" type="button" color="primary" mat-raised-button class="mr-2" (click)="saveImage($event)">
          Save    
        </button>
        <button *ngIf="fileSet" type="button" mat-raised-button (click)="removeImage(null)">
          Cancel    
        </button>
      </div>
    </div>
  
    <div class="row mt-3">
      <div class="col">
        <div *ngIf="fileSet">
          <image-cropper
            format="png"
  
            [imageChangedEvent]="imageChangedEvent"
            [maintainAspectRatio]="true"
            [aspectRatio]="3 / 3"
            [resizeToWidth]="128"
            [cropperMinWidth]="128"
  
            (imageCropped)="imageCropped($event)"
            (imageLoaded)="imageLoaded($event)"
            (cropperReady)="cropperReady()"
            (loadImageFailed)="loadImageFailed($event)"
          ></image-cropper>
  
          <!-- <img [src]="croppedImage" /> -->
        </div>
      </div>
    </div>
  
  </div>
</form>